<%
#
#   Copyright [2011-2012] [Solr.pl, Marek Rogoziński, Rafał Kuć]
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.
#
%>
<%= form_for(@explain, :html => {:id => 'new-explain'}) do |f| %>

  <div class="fe fe-first fe_plan">
    <%= f.label :plan, t("explain.new.label.plan") %>
    <%= f.text_area :plan, :class => 'auto-hint', :title => 'For example:

<?xml version="1.0" encoding="UTF-8"?>
<response>
<lst name="responseHeader">
  <int name="status">0</int>
  <int name="QTime">9</int>
  <lst name="params">
    <str name="explainOther">id:3007WFP</str>
    <str name="debugQuery">true</str>
    <str name="indent">on</str>
    <str name="q">*:*</str>
    <str name="rows">10</str>
  </lst>
</lst>
<result name="response" numFound="1" start="0">
  <doc>
    <arr name="features"><str>No accents here</str><str>这是一个功能</str><str>This is a feature (translated)</str>
      <str>这份文件是很有光泽</str><str>This document is very shiny (translated)</str></arr>
    <str name="id">GB18030TEST</str>
    <bool name="inStock">true</bool>
    <str name="name">Test with some GB18030 encoded characters</str>
    <float name="price">0.0</float>
  </doc>
</result>
<lst name="debug">
  <str name="rawquerystring">*:*</str>
  <str name="querystring">*:*</str>
  <str name="parsedquery">MatchAllDocsQuery(*:*)</str>
  <str name="parsedquery_toString">*:*</str>
  <lst name="explain">
    <str name="GB18030TEST">
1.0 = (MATCH) MatchAllDocsQuery, product of:
  1.0 = queryNorm
</str>
   </lst>
  <str name="otherQuery">id:3007WFP</str>
  <lst name="explainOther">
    <str name="3007WFP">
1.0 = (MATCH) MatchAllDocsQuery, product of:
  1.0 = queryNorm
</str>
  </lst>
  <str name="QParser">LuceneQParser</str>
  <lst name="timing">
    <double name="time">9.0</double>
    <lst name="prepare">
      <double name="time">1.0</double>
      <lst name="org.apache.solr.handler.component.QueryComponent">
        <double name="time">1.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.FacetComponent">
        <double name="time">0.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.MoreLikeThisComponent">
        <double name="time">0.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.HighlightComponent">
        <double name="time">0.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.StatsComponent">
        <double name="time">0.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.DebugComponent">
        <double name="time">0.0</double>
      </lst>
    </lst>
    <lst name="process">
      <double name="time">8.0</double>
      <lst name="org.apache.solr.handler.component.QueryComponent">
        <double name="time">6.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.FacetComponent">
        <double name="time">0.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.MoreLikeThisComponent">
        <double name="time">0.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.HighlightComponent">
        <double name="time">0.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.StatsComponent">
        <double name="time">0.0</double>
      </lst>
      <lst name="org.apache.solr.handler.component.DebugComponent">
        <double name="time">2.0</double>
      </lst>
    </lst>
  </lst>
</lst>
</response>
    ' %>
  </div>
  <div class="fe fe_is_public">
    <%= f.label :public, t("explain.new.label.public") %>
    <%= f.check_box :public, :checked => true %>
  </div>

  <div class="fe fe-last fe-buttons">
    <%= f.submit %>
  </div>
<% end %>
